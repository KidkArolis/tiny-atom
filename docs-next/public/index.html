<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.62.0" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Figbird Docs </title>

  
  
  
  
  
  

  

  <meta name="author" content="">


  <meta property="og:title" content="Figbird" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://humaans.github.io/figbird/" />


  




  
   



 
  
  
  
  <link href="https://humaans.github.io/figbird/index.xml" rel="alternate" type="application/rss+xml" title="Figbird Docs" /> 

  <link rel="canonical" href="https://humaans.github.io/figbird/">  

  <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABA0lEQVRYhe3XMUoDURDG8UnuMQveQvIeljZ2gq0ErALWFnHTiJamCLFLkRuk1jYkKGq08Aru4gkMhORvsYKoBNPsjEoGvvr78R5TjCBSJWiLqDlBF8SEUhN0QdScmqaIVKQoL7l0OaYphOTFEfAsbuXv3+ELiAl/CHC4B/cjmIx/zsFOCYB2i5WnnToDLs6cAZ0TZ0DaMAJMp7C7+T1bG1aA15WL/ilgPv+8/91TY8DXebh2BjxNnAG3Q2PAbAb9zkeO6sYA9y1YA9YAU8D+NlwN4G4EjzcwvITeuSGgpPwCgMU9uCzFYaK53wtoJkRN3QA1PRZEqgVCM7PzPGhG0CYilTeI30bY9plB/gAAAABJRU5ErkJggg==">


  <link href="/figbird/css/kube.css" rel="stylesheet" type="text/css" />
  <link href="/figbird/css/highlight.css" rel="stylesheet" type="text/css" />
  <link href="/figbird/css/master.css" rel="stylesheet" type="text/css" />
  <link href="/figbird/css/custom.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="/figbird/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="github">
  <a href="https://github.com/humaans/figbird">
    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
      <path fill="#000000" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" />
    </svg> View on Github</a>
</div>
 </header>
  <main>
  <div id="main">
    <div id="hero">
      <h1> Figbird </h1>
      <p class="hero-lead">
        
      </p>
    </div>
    <div id="kube-component" class="content">
      
<nav id="contents">
    <ol class="js-toc">
    </ol>
</nav>
<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function() {
    window.tocbot.init({
      
      tocSelector: '.js-toc',
      
      contentSelector: '.content',
      
      headingSelector: 'h2'
    })
  });
</script>

      <p>Declarative and realtime data management for <strong>ultra responsive</strong> Feathers and React applications.</p>
<ul>
<li>idiomatic React hooks â€“ <code>useGet</code> / <code>useFind</code> / <code>useMutation</code> / <code>useFeathers</code></li>
<li>powerful caching with realtime updates and live queries</li>
<li>multiple data fetching policies</li>
<li>fine control over cache evictions</li>
</ul>
<p>The library has been extracted from production code used at <a href="https://humaans.io/">https://humaans.io/</a>.</p>
<h2 id="features">Features</h2>
<p><strong>Idiomatic React hooks</strong>. Works how you'd expect it, fetch some data with <code>const data = useFind('notes')</code> and know that your components will rerender in realtime as the data upstream changes. Modify the data using the <code>const { patch } = useMutation</code> and have the updates be instantly propagated to all components referencing the same entities.</p>
<p><strong>Live queries</strong>. Works with both Feathers realtime events and with local data mutations. Sophisticated and Feathers compatible live query support means that when you patch a record it gets added or removed to any queries matching this record. For example, if your data is fetched using <code>useFind('notes', { query: { tag: 'ideas' } })</code> and you then patch some note with <code>patch({ tag: 'ideas' })</code> - the query will updated immediately and rerender all components referencing that query.</p>
<p><strong>Cache eviction</strong>. The usage of <code>useGet</code> and <code>useFind</code> hooks gets reference counted so that Figbird knows exactly if any of the queries and fetched entities are still being referenced by the UI. By default, Figbird will keep all the data and cache without ever evicting, but if your application demands it, you can strategically implement cache eviction hooks (e.g. on page navigations) to clear out all unused cache items or specific items based on service name or data attributes.</p>
<p><strong>Fetch policies</strong>. Fetch policies allow you to fine tune Figbird to your requirements. With the default <code>cache-and-network</code> you will use cached data when possible for maximum responsiveness, but will always refetch in the background to make sure data is up to date. Or use one of the other 4 policies to minimise network usage or always go to network first.</p>
<p><strong>Logging</strong>. Figbird's cache is implemented using the <a href="https://github.com/KidkArolis/tiny-atom"><code>tiny-atom</code></a> store which comes with a powerful logger. Observe and inspect all the changes to your cache with ease.</p>
<h2 id="useget">useGet</h2>
<p>Fetch a resource by id, calls <code>feathers.service('notes').get(id, params)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useGet</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Note</span>({ <span style="color:#a6e22e">id</span> }) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">note</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useGet</span>(<span style="color:#e6db74">&#39;notes&#39;</span>, <span style="color:#a6e22e">id</span>)

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">note</span>.<span style="color:#a6e22e">loading</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Loading...&#39;</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">note</span>.<span style="color:#a6e22e">error</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Error...&#39;</span>

  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">note</span>.<span style="color:#a6e22e">data</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">v</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
}
</code></pre></div><h2 id="usefind">useFind</h2>
<p>Fetch a collection, calls <code>feathers.service('notes').find(params)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useFind</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Notes</span>({ <span style="color:#a6e22e">tag</span> }) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">notes</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useFind</span>(<span style="color:#e6db74">&#39;notes&#39;</span>, { <span style="color:#a6e22e">query</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">tag</span> } })

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">notes</span>.<span style="color:#a6e22e">loading</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Loading...&#39;</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">notes</span>.<span style="color:#a6e22e">error</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Error...&#39;</span>

  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">notes</span>.<span style="color:#a6e22e">data</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">v</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
}
</code></pre></div><h2 id="usemutation">useMutation</h2>
<p>Fetch a collection, calls <code>feathers.service('notes').find(params)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useMutation</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Note</span>({ <span style="color:#a6e22e">id</span> }) {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">patch</span>, <span style="color:#a6e22e">loading</span>, <span style="color:#a6e22e">error</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">useMutation</span>(<span style="color:#e6db74">&#39;notes&#39;</span>)

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">loading</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Updating...&#39;</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">error</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Error...&#39;</span>

  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#a6e22e">patch</span>(<span style="color:#a6e22e">id</span>, { <span style="color:#a6e22e">tag</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;idea&#39;</span> })}<span style="color:#f92672">&gt;</span><span style="color:#a6e22e">Add</span> <span style="color:#a6e22e">tag</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">v</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
}
</code></pre></div><h2 id="usefeathers">useFeathers</h2>
<p>Get feathers client.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useFeathers</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Logout</span>() {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">feathers</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useFeathers</span>()

  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#a6e22e">feathers</span>.<span style="color:#a6e22e">logout</span>()}<span style="color:#f92672">&gt;</span><span style="color:#a6e22e">Logout</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">b</span><span style="color:#960050;background-color:#1e0010">u</span><span style="color:#960050;background-color:#1e0010">t</span><span style="color:#960050;background-color:#1e0010">t</span><span style="color:#960050;background-color:#1e0010">o</span><span style="color:#960050;background-color:#1e0010">n</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
}
</code></pre></div><h2 id="usefigbird">useFigbird</h2>
<p>Advanced. Get all of Figbird's context, including <code>{ feathers, config, atom, actions, useSelector }</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useFeathers</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Logout</span>() {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">figbird</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useFigbird</span>()

  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
    <span style="color:#75715e">// e.g. inspect cache contents
</span><span style="color:#75715e"></span>    window.<span style="color:#a6e22e">figbird</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">figbird</span>
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">figbird</span>.<span style="color:#a6e22e">atom</span>.<span style="color:#a6e22e">get</span>())
  }, [])
}
</code></pre></div><h2 id="provider">Provider</h2>
<p>Every application using Figbird must be wrapped in Figbird <code>Provider</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Provider</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">FigbirdProvider</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">createFeathersClient</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;@feathersjs/feathers&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>({ <span style="color:#a6e22e">children</span> }) {
  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">feathers</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(() =&gt; <span style="color:#a6e22e">createFeathersClient</span>())
  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">FigbirdProvider</span> <span style="color:#a6e22e">feathers</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">feathers</span>}<span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">children</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">F</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">g</span><span style="color:#960050;background-color:#1e0010">b</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">P</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">o</span><span style="color:#960050;background-color:#1e0010">v</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">e</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
}
</code></pre></div><h2 id="api-reference">API Reference</h2>
<h3 id="usegetservicename-id-params"><code>useGet(serviceName, id, params)</code></h3>
<ul>
<li><code>serviceName</code> - the name of Feathers service</li>
<li><code>id</code> - the id of the resource</li>
<li><code>params</code> - any params you'd pass to Feathers, with the following extras:</li>
<li><code>skip</code> - setting skip to true will not fetch the data</li>
</ul>
<p>Resulting object has the following attributes:</p>
<ul>
<li><code>data</code> - starts of as <code>null</code> and is set to the fetch result</li>
<li><code>loading</code> - true if loading data for the first time with nothing in cache</li>
<li><code>reloading</code> - true loading data in the background to update the cache</li>
<li><code>error</code> - error object if request failed</li>
<li><code>refetch</code> - refetch the data</li>
</ul>
<h3 id="usefindservicename-params"><code>useFind(serviceName, params)</code></h3>
<ul>
<li><code>serviceName</code> - the name of Feathers service</li>
<li><code>params</code> - any params you'd pass to Feathers, with the following extras:
<ul>
<li><code>skip</code> - setting skip to true will not fetch the data</li>
<li><code>allPages</code> - fetch all pages</li>
</ul>
</li>
</ul>
<p>Resulting object has the following attributes:</p>
<ul>
<li><code>data</code> - starts of as <code>null</code> and is set to the array of data</li>
<li><code>total</code> - total number of records</li>
<li><code>limit</code> - max number of items per page</li>
<li><code>skip</code> - number of skipped items (offset)</li>
<li><code>loading</code> - true if loading data for the first time with nothing in cache</li>
<li><code>reloading</code> - true loading data in the background to update the cache</li>
<li><code>error</code> - error object if request failed</li>
<li><code>refetch</code> - refetch the data</li>
</ul>
<h3 id="usemutationservicename"><code>useMutation(serviceName)</code></h3>
<ul>
<li><code>serviceName</code> - the name of Feathers service</li>
</ul>
<p>Resulting object has the following attributes:</p>
<ul>
<li><code>create(data)</code> - create</li>
<li><code>update(id, data)</code> - update</li>
<li><code>patch(id, data)</code> - patch</li>
<li><code>remove(id)</code> - remove</li>
<li><code>loading</code> - true if the last called mutation is in flight</li>
<li><code>error</code> - error object of the last failed mutation</li>
</ul>
<h3 id="provider-1"><code>Provider</code></h3>
<ul>
<li><code>feathers</code> - feathers instance</li>
<li><code>idField</code> - optional, string or function, defaults to getting <code>id</code> and then <code>_id</code></li>
<li><code>updatedAtField</code> - optional, string or function, defaults to getting <code>updatedAt</code> and then <code>updated_at</code>, used to avoid overwriting newer data in cache with older data when <code>get</code> or realtime <code>patched</code> requests are racing</li>
<li><code>atom</code> - optional, custom atom instance</li>
<li><code>AtomContext</code> - optional, custom atom context</li>
</ul>
<h2 id="advanced-usage">Advanced usage</h2>
<p>Figbird is using <a href="https://github.com/KidkArolis/tiny-atom">tiny-atom</a> for it's cache. This allows for a succint implementation and efficient bindings from cached data to components. It is possible to pass in a custom instance of tiny-atom to <code>figbird</code> if you're already using tiny-atom in your appsta would allow for easier inspection and debugging of your application's state and behaviour. For example:</p>
<p><img src="https://user-images.githubusercontent.com/324440/64800653-d94fec00-d57e-11e9-8b35-5a943a22ebe1.png" alt="Figbird Logger"></p>
<h3 id="pass-atom-via-prop">Pass atom via prop</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">createAtom</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;tiny-atom&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Provider</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">FigbirdProvider</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">createFeathersClient</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;@feathersjs/feathers&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">feathers</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(() =&gt; <span style="color:#a6e22e">createFeathersClient</span>())
  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">atom</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(() =&gt; <span style="color:#a6e22e">createAtom</span>)
  <span style="color:#66d9ef">return</span> (
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">FigbirdProvider</span> <span style="color:#a6e22e">feathers</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">feathers</span>} <span style="color:#a6e22e">atom</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">atom</span>}<span style="color:#f92672">&gt;</span>
      {<span style="color:#a6e22e">children</span>}
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">F</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">g</span><span style="color:#960050;background-color:#1e0010">b</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">P</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">o</span><span style="color:#960050;background-color:#1e0010">v</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">e</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
  )
}
</code></pre></div><h3 id="pass-atom-via-context">Pass atom via context</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span>, { <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AtomContext</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;tiny-atom&#39;</span>
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Provider</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">FigbirdProvider</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;figbird&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">createFeathersClient</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;@feathersjs/feathers&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">feathers</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(() =&gt; <span style="color:#a6e22e">createFeathersClient</span>())
  <span style="color:#66d9ef">return</span> (
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">FigbirdProvider</span> <span style="color:#a6e22e">feathers</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">feathers</span>} <span style="color:#a6e22e">AtomContext</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">AtomContext</span>}<span style="color:#f92672">&gt;</span>
      {<span style="color:#a6e22e">children</span>}
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#960050;background-color:#1e0010">F</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">g</span><span style="color:#960050;background-color:#1e0010">b</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">P</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">o</span><span style="color:#960050;background-color:#1e0010">v</span><span style="color:#960050;background-color:#1e0010">i</span><span style="color:#960050;background-color:#1e0010">d</span><span style="color:#960050;background-color:#1e0010">e</span><span style="color:#960050;background-color:#1e0010">r</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
  )
}
</code></pre></div>
    </div>
  </div>
</main>
  <footer></footer>
  <script src="/figbird/js/master.js" type="text/javascript"></script>
  <script src="/figbird/js/highlightjs-9.15.10.min.js" type="text/javascript"></script>
  <script>window.hljs.initHighlightingOnLoad();</script>
</body>

</html>
