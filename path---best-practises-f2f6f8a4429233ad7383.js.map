{"version":3,"sources":["webpack:///path---best-practises-f2f6f8a4429233ad7383.js","webpack:///./.cache/json/best-practises.json"],"names":["webpackJsonp","509","module","exports","data","markdownRemark","html","excerpt","timeToRead","frontmatter","title","parent","__typename","relativePath","pathContext","slug"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,o7oBAAkxnBC,QAAA,8IAAAC,WAAA,EAAAC,aAAyjDC,MAAA,kBAAyBC,QAAWC,WAAA,OAAAC,aAAA,uBAAyDC,aAAgBC,KAAA","file":"path---best-practises-f2f6f8a4429233ad7383.js","sourcesContent":["webpackJsonp([255343859041829],{\n\n/***/ 509:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p>Some of this advice is fairly opinionated. Don’t feel like you need to follow any of this strictly. It’s just what we found to work really well when building apps with <strong>Tiny Atom</strong>.</p>\\n<h2 id=\\\"data-vs-state\\\"><a href=\\\"#data-vs-state\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Data vs State</h2>\\n<p><strong>Data</strong> is typically application entities such as users, feeds, items, repos, tweets, hashtags, and so on.</p>\\n<p><strong>State</strong> is typically UI’s state - such as selected feed id, currently displayed item, expanded tweet id and so on.</p>\\n<p>It’s common to keep <em>all</em> of the data and <em>some</em> of the state in your <code>atom</code>. For example, a component such as <code>datepicker</code> might be better off keeping it’s open state or selected month state in it’s own private state object as opposed to the global <code>atom</code>. But it really depends, you should use your best judgement and architectural goals.</p>\\n<h2 id=\\\"debounce-renders\\\"><a href=\\\"#debounce-renders\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Debounce renders</h2>\\n<p>With <strong>Tiny Atom</strong> you register your render callback when creating the store.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span>initialState<span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> render<span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>The <code>render</code> callback is called every time the state is updated. To make your app renders much more efficient, you should typically wrap your render function with a <a href=\\\"https://lodash.com/docs/4.17.4#debounce\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener noreferrer\\\"><code>debounce</code></a>. This ensures that you don’t needlessly rerender the app more than once a frame.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">const</span> _ <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'lodash'</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">const</span> debouncedRender <span class=\\\"token operator\\\">=</span> _<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">debounce</span><span class=\\\"token punctuation\\\">(</span>render<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">1000</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span>initialState<span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> debouncedRender<span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>Sometimes, this technique can get in the way when state updates and rerenders need to be controlled very precisely. For example, it’s typical when doing CSS animations to quickly add and remove certain css classes in sequence to trigger animations. In these cases you can use a more sophisticated technique.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span>initialState<span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> onChange<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">onChange</span> <span class=\\\"token punctuation\\\">(</span>atom<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>sync<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">debouncedRender</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">// somewhere in the code</span>\\n<span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> sync<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">true</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fadeIn'</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> sync<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<h2 id=\\\"immutable\\\"><a href=\\\"#immutable\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Immutable</h2>\\n<p>Never mutate the state directly. Don’t do</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code>atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>list<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'todo'</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>Instead, always use <code>split</code> to send actions to atom. This in general is typically a good practise in your JavaScript applications. It makes reasoning about each piece of logic easier.</p>\\n<h2 id=\\\"deep-assign\\\"><a href=\\\"#deep-assign\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Deep assign</h2>\\n<p>The default update merge strategy in <strong>Tiny Atom</strong> is <code>Object.assign({}, state, update)</code> . Once the app grows larger, it becomes common to need to update nested objects. Consider in those cases using a custom <code>merge</code> implementation. For example:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">deepMerge</span> <span class=\\\"token punctuation\\\">(</span>state<span class=\\\"token punctuation\\\">,</span> update<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> merged <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> state<span class=\\\"token punctuation\\\">,</span> update<span class=\\\"token punctuation\\\">)</span>\\n  Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">keys</span><span class=\\\"token punctuation\\\">(</span>update<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span>key <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>state <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        update <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        update<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">!==</span> state<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        <span class=\\\"token function\\\">isObject</span><span class=\\\"token punctuation\\\">(</span>update<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        <span class=\\\"token function\\\">isObject</span><span class=\\\"token punctuation\\\">(</span>state<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n     <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      merged<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">deepMerge</span><span class=\\\"token punctuation\\\">(</span>state<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> update<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token keyword\\\">return</span> merged\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">isObject</span> <span class=\\\"token punctuation\\\">(</span>obj<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">typeof</span> obj <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'object'</span> <span class=\\\"token operator\\\">&amp;&amp;</span> Object<span class=\\\"token punctuation\\\">.</span>prototype<span class=\\\"token punctuation\\\">.</span>toString<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">call</span><span class=\\\"token punctuation\\\">(</span>obj<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'[object Object]'</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">const</span> atom <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> user<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> feed<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> items<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> loading<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> render<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> merge<span class=\\\"token punctuation\\\">:</span> deepMerge <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// without deep merge, it's a lot of work to update a nested value</span>\\n<span class=\\\"token keyword\\\">const</span> nextState <span class=\\\"token operator\\\">=</span> Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\nnextState<span class=\\\"token punctuation\\\">.</span>feed <span class=\\\"token operator\\\">=</span> Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> nextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">)</span>\\nnextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">.</span>items <span class=\\\"token operator\\\">=</span> Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> nextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">.</span>items<span class=\\\"token punctuation\\\">)</span>\\nnextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">.</span>items<span class=\\\"token punctuation\\\">.</span>loading <span class=\\\"token operator\\\">=</span> <span class=\\\"token boolean\\\">true</span>\\natom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span>nextState<span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// it's much easier with zaphod library</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> setIn <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'zaphod/compat'</span><span class=\\\"token punctuation\\\">)</span>\\natom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">setIn</span><span class=\\\"token punctuation\\\">(</span>atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'feed'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'items'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'loading'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// but because of deepMerge, we can also now do this</span>\\natom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> feed<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> items<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> loading<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">true</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<h2 id=\\\"use-zaphod-or-similar-libraries\\\"><a href=\\\"#use-zaphod-or-similar-libraries\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Use zaphod or similar libraries</h2>\\n<p><a href=\\\"https://zaphod.surge.sh/\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener noreferrer\\\">Zaphod</a> is a really neat library for updating plain JavaScript objects in immutable ways. In particular functions like <code>get</code>, <code>getIn</code>, <code>set</code>, <code>setIn</code>, <code>unset</code>, <code>update</code>, <code>updateIn</code>, <code>push</code>, <code>pop</code>, <code>merge</code> all make it quite easy to update your state without mutating it. It’s a great alternative to libraries such as Immutable.js. While Immutable is great - it has a fairly large API surface and conceals data within custom objects making it harder to debug. We all wish JavaScript supported immutable data structures natively, but good ol plain JavaScript data structures can be more than enough. And libraries like <code>Zaphod</code> make it a joy to work with them.</p>\\n<h2 id=\\\"avoid-splitting-raw-changes\\\"><a href=\\\"#avoid-splitting-raw-changes\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Avoid splitting raw changes</h2>\\n<p>Atom allows both forms of split: <code>split({ count: 5 })</code> or <code>split('increment', 5)</code>. They both exist for symmetry of the API where <code>split</code> behaves the same inside and outside of <code>evolve</code>. It can also be useful for testing or developing tiny applications where you don’t need much more than a shared state object that’s easy to update without even introducing actions.</p>\\n<p>But for any larger applications it will always be better to split actions that get handled in the store. This keeps all the logic away from your views. And makes it easier to track changes when debugging.</p>\\n<h2 id=\\\"extend\\\"><a href=\\\"#extend\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Extend</h2>\\n<p>Don’t be afraid to read the code of <strong>Tiny Atom</strong> to really understand what’s going on under the hood. Once you understand the concept behind it - don’t be afraid to implement custom <code>evolve</code> strategies to fit your specific application needs.</p>\",\"excerpt\":\"Some of this advice is fairly opinionated. Don’t feel like you need to follow any of this strictly. It’s just what we found to work really…\",\"timeToRead\":4,\"frontmatter\":{\"title\":\"Best practises\"},\"parent\":{\"__typename\":\"File\",\"relativePath\":\"best-practises.md\"}}},\"pathContext\":{\"slug\":\"/best-practises/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---best-practises-f2f6f8a4429233ad7383.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p>Some of this advice is fairly opinionated. Don’t feel like you need to follow any of this strictly. It’s just what we found to work really well when building apps with <strong>Tiny Atom</strong>.</p>\\n<h2 id=\\\"data-vs-state\\\"><a href=\\\"#data-vs-state\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Data vs State</h2>\\n<p><strong>Data</strong> is typically application entities such as users, feeds, items, repos, tweets, hashtags, and so on.</p>\\n<p><strong>State</strong> is typically UI’s state - such as selected feed id, currently displayed item, expanded tweet id and so on.</p>\\n<p>It’s common to keep <em>all</em> of the data and <em>some</em> of the state in your <code>atom</code>. For example, a component such as <code>datepicker</code> might be better off keeping it’s open state or selected month state in it’s own private state object as opposed to the global <code>atom</code>. But it really depends, you should use your best judgement and architectural goals.</p>\\n<h2 id=\\\"debounce-renders\\\"><a href=\\\"#debounce-renders\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Debounce renders</h2>\\n<p>With <strong>Tiny Atom</strong> you register your render callback when creating the store.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span>initialState<span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> render<span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>The <code>render</code> callback is called every time the state is updated. To make your app renders much more efficient, you should typically wrap your render function with a <a href=\\\"https://lodash.com/docs/4.17.4#debounce\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener noreferrer\\\"><code>debounce</code></a>. This ensures that you don’t needlessly rerender the app more than once a frame.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">const</span> _ <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'lodash'</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">const</span> debouncedRender <span class=\\\"token operator\\\">=</span> _<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">debounce</span><span class=\\\"token punctuation\\\">(</span>render<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">1000</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span>initialState<span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> debouncedRender<span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>Sometimes, this technique can get in the way when state updates and rerenders need to be controlled very precisely. For example, it’s typical when doing CSS animations to quickly add and remove certain css classes in sequence to trigger animations. In these cases you can use a more sophisticated technique.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span>initialState<span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> onChange<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">onChange</span> <span class=\\\"token punctuation\\\">(</span>atom<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>sync<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token function\\\">debouncedRender</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">// somewhere in the code</span>\\n<span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> sync<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">true</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'fadeIn'</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> sync<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<h2 id=\\\"immutable\\\"><a href=\\\"#immutable\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Immutable</h2>\\n<p>Never mutate the state directly. Don’t do</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code>atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>state<span class=\\\"token punctuation\\\">.</span>list<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'todo'</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<p>Instead, always use <code>split</code> to send actions to atom. This in general is typically a good practise in your JavaScript applications. It makes reasoning about each piece of logic easier.</p>\\n<h2 id=\\\"deep-assign\\\"><a href=\\\"#deep-assign\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Deep assign</h2>\\n<p>The default update merge strategy in <strong>Tiny Atom</strong> is <code>Object.assign({}, state, update)</code> . Once the app grows larger, it becomes common to need to update nested objects. Consider in those cases using a custom <code>merge</code> implementation. For example:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">deepMerge</span> <span class=\\\"token punctuation\\\">(</span>state<span class=\\\"token punctuation\\\">,</span> update<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> merged <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> state<span class=\\\"token punctuation\\\">,</span> update<span class=\\\"token punctuation\\\">)</span>\\n  Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">keys</span><span class=\\\"token punctuation\\\">(</span>update<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span>key <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>state <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        update <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        update<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">!==</span> state<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        <span class=\\\"token function\\\">isObject</span><span class=\\\"token punctuation\\\">(</span>update<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n        <span class=\\\"token function\\\">isObject</span><span class=\\\"token punctuation\\\">(</span>state<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n     <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      merged<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">deepMerge</span><span class=\\\"token punctuation\\\">(</span>state<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> update<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token keyword\\\">return</span> merged\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">isObject</span> <span class=\\\"token punctuation\\\">(</span>obj<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">typeof</span> obj <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'object'</span> <span class=\\\"token operator\\\">&amp;&amp;</span> Object<span class=\\\"token punctuation\\\">.</span>prototype<span class=\\\"token punctuation\\\">.</span>toString<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">call</span><span class=\\\"token punctuation\\\">(</span>obj<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'[object Object]'</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">const</span> atom <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">createAtom</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> user<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> feed<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> items<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> loading<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> evolve<span class=\\\"token punctuation\\\">,</span> render<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> merge<span class=\\\"token punctuation\\\">:</span> deepMerge <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// without deep merge, it's a lot of work to update a nested value</span>\\n<span class=\\\"token keyword\\\">const</span> nextState <span class=\\\"token operator\\\">=</span> Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\nnextState<span class=\\\"token punctuation\\\">.</span>feed <span class=\\\"token operator\\\">=</span> Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> nextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">)</span>\\nnextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">.</span>items <span class=\\\"token operator\\\">=</span> Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">assign</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> nextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">.</span>items<span class=\\\"token punctuation\\\">)</span>\\nnextState<span class=\\\"token punctuation\\\">.</span>feed<span class=\\\"token punctuation\\\">.</span>items<span class=\\\"token punctuation\\\">.</span>loading <span class=\\\"token operator\\\">=</span> <span class=\\\"token boolean\\\">true</span>\\natom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span>nextState<span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// it's much easier with zaphod library</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> setIn <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'zaphod/compat'</span><span class=\\\"token punctuation\\\">)</span>\\natom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">setIn</span><span class=\\\"token punctuation\\\">(</span>atom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'feed'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'items'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'loading'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token boolean\\\">true</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n\\n<span class=\\\"token comment\\\">// but because of deepMerge, we can also now do this</span>\\natom<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> feed<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> items<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span> loading<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">true</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n      </div>\\n<h2 id=\\\"use-zaphod-or-similar-libraries\\\"><a href=\\\"#use-zaphod-or-similar-libraries\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Use zaphod or similar libraries</h2>\\n<p><a href=\\\"https://zaphod.surge.sh/\\\" target=\\\"_blank\\\" rel=\\\"nofollow noopener noreferrer\\\">Zaphod</a> is a really neat library for updating plain JavaScript objects in immutable ways. In particular functions like <code>get</code>, <code>getIn</code>, <code>set</code>, <code>setIn</code>, <code>unset</code>, <code>update</code>, <code>updateIn</code>, <code>push</code>, <code>pop</code>, <code>merge</code> all make it quite easy to update your state without mutating it. It’s a great alternative to libraries such as Immutable.js. While Immutable is great - it has a fairly large API surface and conceals data within custom objects making it harder to debug. We all wish JavaScript supported immutable data structures natively, but good ol plain JavaScript data structures can be more than enough. And libraries like <code>Zaphod</code> make it a joy to work with them.</p>\\n<h2 id=\\\"avoid-splitting-raw-changes\\\"><a href=\\\"#avoid-splitting-raw-changes\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Avoid splitting raw changes</h2>\\n<p>Atom allows both forms of split: <code>split({ count: 5 })</code> or <code>split('increment', 5)</code>. They both exist for symmetry of the API where <code>split</code> behaves the same inside and outside of <code>evolve</code>. It can also be useful for testing or developing tiny applications where you don’t need much more than a shared state object that’s easy to update without even introducing actions.</p>\\n<p>But for any larger applications it will always be better to split actions that get handled in the store. This keeps all the logic away from your views. And makes it easier to track changes when debugging.</p>\\n<h2 id=\\\"extend\\\"><a href=\\\"#extend\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Extend</h2>\\n<p>Don’t be afraid to read the code of <strong>Tiny Atom</strong> to really understand what’s going on under the hood. Once you understand the concept behind it - don’t be afraid to implement custom <code>evolve</code> strategies to fit your specific application needs.</p>\",\"excerpt\":\"Some of this advice is fairly opinionated. Don’t feel like you need to follow any of this strictly. It’s just what we found to work really…\",\"timeToRead\":4,\"frontmatter\":{\"title\":\"Best practises\"},\"parent\":{\"__typename\":\"File\",\"relativePath\":\"best-practises.md\"}}},\"pathContext\":{\"slug\":\"/best-practises/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/best-practises.json\n// module id = 509\n// module chunks = 255343859041829"],"sourceRoot":""}